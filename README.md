# Пример метамодели (metamodel)

**Цели примера:**
1. Снизить порог вхождения в DocHub за счет исследования полнофункционального работающего примера.
2. Показать пример структуры репозитория с метамоделью
3. Показать примеры расширения дефолтной метамодели


# Суть примера
Это метамодель реализованная для примера https://github.com/ValentinKozlov/DocHubExampleManifest

## Файловая структура примера

* **datasets** - в этой папке хранятся datasets (переиспользуемые запросы, но при и выполнении нельзя передать параметры).
* **dochub** - дефолтная метамодель от Романа Пионтика.
    * **entities** - в этой папке хранятся дефолтные сущности, но часть из них была доработана. Например, была реализована возможность вывода контекста в нотации c4. Пример доработок можно найти [здесь](https://github.com/rpiontik/DocHubExamples/tree/main/src/repository_structure_example).
    * **rules** - в этой папке хранятся дефолтные валидаторы и здесь же хранятся кастомные валидаторы.
* **jsonata** - в этой папке хранятся общие функции. Пример использования можно посмотреть [здесь](https://github.com/rpiontik/DocHubExamples/blob/main/src/jsonata_query_examples/jsonata_query_example.md).
* **swamp** - кастомная метамодель.
    * **business_entities** - сущность управляющая бизнес-сущностями на логическом уровне.
    * **dictionaries** - сущность управляющая справочной информацией.
    * **dochub_menu** - сущность управляющая структурой меню.
    * **environments** - сущность управляющая средами развертывания систем.
    * **libraries** - сущность управляющая общими библиотеками.
    * **sequence_diagrams** - сущность управляющая рисованием диаграмм последовательности. Сущность Ромы Пионтика, но в пример не довезли её до конца.
    
* **root.yaml** - корневой файл для импорта
* **dochub.yaml** - корневой файл DocHub. Для того чтобы заработало в плагине, нужно извратиться и подключить кастомную метамодель.
* **README.md** - текущая документация

## Использование
Самый простой способ запустить метамодель - это воспользоваться репозиторием https://github.com/cu3blukekc/SwampHub.

Остальные способы вариативны и зависят от глубины понимания вами принципов работы DocHub.

### Обновление метамодели
При обновлении будьте внимательны, обновляйте метамодель осознанно через merge каждого файла, иначе потеряется кучу прикольного функционала.


## Авторские права
1. Данный репозиторий был подготовлен Валентином Козловым https://t.me/i_frog_i.
2. В пример были включены наработки в части реализации кастомных сущностей следующих людей:
    * Александра Трубникова
    * Андрея Бизяева
    * Никиты Пермякова

В дальнейшем планируется собрать на базе этого репозитория все интересные наработки сообщества опубликованные [здесь](https://github.com/rpiontik/DocHubExamples).
